<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Initialize a log object. — initLogger • ecr</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->
<link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/flatly/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous" />


<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="Initialize a log object. — initLogger" />
<meta property="og:description" content="Logging is a central aspect of each EA. Besides the final solution(s)
especially in research often we need to keep track of different aspects of the
evolutionary process, e.g., fitness statistics. The logger of ecr keeps
track of different user-defined statistics and the population.
It may also be used to check stopping conditions (see makeECRTerminator). Most
important this logger is used internally by the ecr black-box interface." />


<meta name="robots" content="noindex">

<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">ecr</a>
        <span class="version label label-danger" data-toggle="tooltip" data-placement="bottom" title="In-development version">2.1.0.9000</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/introduction.html">Brief introduction to ecr</a>
    </li>
    <li>
      <a href="../articles/multiobjective.html">Multi-Objective Evolutionary Algorithms</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/jakobbossek/ecr2/">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Initialize a log object.</h1>
    <small class="dont-index">Source: <a href='https://github.com/jakobbossek/ecr2/blob/master/R/logger.default.R'><code>R/logger.default.R</code></a></small>
    <div class="hidden name"><code>initLogger.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Logging is a central aspect of each EA. Besides the final solution(s)
especially in research often we need to keep track of different aspects of the
evolutionary process, e.g., fitness statistics. The logger of ecr keeps
track of different user-defined statistics and the population.
It may also be used to check stopping conditions (see <code>makeECRTerminator</code>). Most
important this logger is used internally by the <code><a href='ecr.html'>ecr</a></code> black-box interface.</p>
    </div>

    <pre class="usage"><span class='fu'>initLogger</span><span class='op'>(</span><span class='va'>control</span>, log.stats <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span><span class='op'>(</span>fitness <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span><span class='op'>(</span><span class='st'>"min"</span>, <span class='st'>"mean"</span>,
  <span class='st'>"max"</span><span class='op'>)</span><span class='op'>)</span>, log.extras <span class='op'>=</span> <span class='cn'>NULL</span>, log.pop <span class='op'>=</span> <span class='cn'>FALSE</span>, init.size <span class='op'>=</span> <span class='fl'>1000L</span><span class='op'>)</span></pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>control</th>
      <td><p>[<code>ecr_control</code>]<br />
Control object.</p></td>
    </tr>
    <tr>
      <th>log.stats</th>
      <td><p>[<code>list</code>]<br />
List of lists for statistic computation on attributes of the individuals
of the population. Each entry should be named by the attribute it should be
based on, e.g., fitness, and should contain a list of R functions as a
character string or a a list with elements <code>fun</code> for the function, and <code>pars</code> for additional
parameters which shall be passed to the corresponding function.
Each function is required to return a scalar numeric value.
By default the minimum, mean and maximum of the fitness values is computed.
Since fitness statistics are the most important ones these do not have to
be stored as attributes, but can be passed as a matrix to the update function.</p></td>
    </tr>
    <tr>
      <th>log.extras</th>
      <td><p>[<code>character</code>]<br />
Possibility to instruct the logger to store additional
scalar values in each generation. Named character vector where the names
indicate the value to store and the value indicates the corresponding data types.
Currently we support all atomic modes of <code><a href='https://rdrr.io/r/base/vector.html'>vector</a></code> expect &#8220;factor&#8221;
and &#8220;raw&#8221;.</p></td>
    </tr>
    <tr>
      <th>log.pop</th>
      <td><p>[<code><a href='https://rdrr.io/r/base/logical.html'>logical(1)</a></code>]<br />
Shall the entire population be saved in each generation?
Default is <code>FALSE</code>.</p></td>
    </tr>
    <tr>
      <th>init.size</th>
      <td><p>[<code><a href='https://rdrr.io/r/base/integer.html'>integer(1)</a></code>]<br />
Initial number of rows of the slot of the logger, where the fitness
statistics are stored. The size of the statistics log is doubled each time an
overflow occurs.
Default is 1000.</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>[<code>ecr_logger</code>]
  An S3 object of class <code>ecr_logger</code> with the following components:</p><dl>
    <dt>log.stats</dt><dd><p>The <code>log.stats</code> list.</p></dd>
    <dt>log.pop</dt><dd><p>The <code>log.pop</code> parameter.</p></dd>
    <dt>init.size</dt><dd><p>Initial size of the log.</p></dd>
    <dt>env</dt><dd><p>The actual log. This is an R environment which ensures, that
    in-place modification is possible.</p></dd>
  
</dl>

    <h2 class="hasAnchor" id="note"><a class="anchor" href="#note"></a>Note</h2>

    <p>Statistics are logged in a <code>data.frame</code>.</p>
    <h2 class="hasAnchor" id="see-also"><a class="anchor" href="#see-also"></a>See also</h2>

    <div class='dont-index'><p>Other logging: <code><a href='getPopulationFitness.html'>getPopulationFitness</a></code>,
  <code><a href='getPopulations.html'>getPopulations</a></code>,
  <code><a href='getStatistics.html'>getStatistics</a></code>, <code><a href='updateLogger.html'>updateLogger</a></code></p></div>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='va'>control</span> <span class='op'>=</span> <span class='fu'><a href='initECRControl.html'>initECRControl</a></span><span class='op'>(</span><span class='kw'>function</span><span class='op'>(</span><span class='va'>x</span><span class='op'>)</span> <span class='fu'><a href='https://rdrr.io/r/base/sum.html'>sum</a></span><span class='op'>(</span><span class='va'>x</span><span class='op'>)</span>, minimize <span class='op'>=</span> <span class='cn'>TRUE</span>,
  n.objectives <span class='op'>=</span> <span class='fl'>1L</span><span class='op'>)</span>
<span class='va'>control</span> <span class='op'>=</span> <span class='fu'><a href='registerECROperator.html'>registerECROperator</a></span><span class='op'>(</span><span class='va'>control</span>, <span class='st'>"mutate"</span>, <span class='va'>mutBitflip</span>, p <span class='op'>=</span> <span class='fl'>0.1</span><span class='op'>)</span>
<span class='va'>control</span> <span class='op'>=</span> <span class='fu'><a href='registerECROperator.html'>registerECROperator</a></span><span class='op'>(</span><span class='va'>control</span>, <span class='st'>"selectForMating"</span>, <span class='va'>selTournament</span>, k <span class='op'>=</span> <span class='fl'>2</span><span class='op'>)</span>
<span class='va'>control</span> <span class='op'>=</span> <span class='fu'><a href='registerECROperator.html'>registerECROperator</a></span><span class='op'>(</span><span class='va'>control</span>, <span class='st'>"selectForSurvival"</span>, <span class='va'>selGreedy</span><span class='op'>)</span>

<span class='va'>log</span> <span class='op'>=</span> <span class='fu'>initLogger</span><span class='op'>(</span><span class='va'>control</span>,
  log.stats <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span><span class='op'>(</span>
    fitness <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span><span class='op'>(</span><span class='st'>"mean"</span>, <span class='st'>"myRange"</span> <span class='op'>=</span> <span class='kw'>function</span><span class='op'>(</span><span class='va'>x</span><span class='op'>)</span> <span class='fu'><a href='https://rdrr.io/r/base/Extremes.html'>max</a></span><span class='op'>(</span><span class='va'>x</span><span class='op'>)</span> <span class='op'>-</span> <span class='fu'><a href='https://rdrr.io/r/base/Extremes.html'>min</a></span><span class='op'>(</span><span class='va'>x</span><span class='op'>)</span><span class='op'>)</span>,
    age <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span><span class='op'>(</span><span class='st'>"min"</span>, <span class='st'>"max"</span><span class='op'>)</span>
  <span class='op'>)</span>, log.pop <span class='op'>=</span> <span class='cn'>TRUE</span>, init.size <span class='op'>=</span> <span class='fl'>1000L</span><span class='op'>)</span>

 <span class='co'># simply pass stuff down to control object constructor</span>
<span class='va'>population</span> <span class='op'>=</span> <span class='fu'><a href='initPopulation.html'>initPopulation</a></span><span class='op'>(</span>mu <span class='op'>=</span> <span class='fl'>10L</span>, <span class='va'>genBin</span>, n.dim <span class='op'>=</span> <span class='fl'>10L</span><span class='op'>)</span>
<span class='va'>fitness</span> <span class='op'>=</span> <span class='fu'><a href='evaluateFitness.html'>evaluateFitness</a></span><span class='op'>(</span><span class='va'>control</span>, <span class='va'>population</span><span class='op'>)</span>

<span class='co'># append fitness to individuals and init age</span>
<span class='kw'>for</span> <span class='op'>(</span><span class='va'>i</span> <span class='kw'>in</span> <span class='fu'><a href='https://rdrr.io/r/base/seq.html'>seq_along</a></span><span class='op'>(</span><span class='va'>population</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>{</span>
  <span class='fu'><a href='https://rdrr.io/r/base/attr.html'>attr</a></span><span class='op'>(</span><span class='va'>population</span><span class='op'>[[</span><span class='va'>i</span><span class='op'>]</span><span class='op'>]</span>, <span class='st'>"fitness"</span><span class='op'>)</span> <span class='op'>=</span> <span class='va'>fitness</span><span class='op'>[</span>, <span class='va'>i</span><span class='op'>]</span>
  <span class='fu'><a href='https://rdrr.io/r/base/attr.html'>attr</a></span><span class='op'>(</span><span class='va'>population</span><span class='op'>[[</span><span class='va'>i</span><span class='op'>]</span><span class='op'>]</span>, <span class='st'>"age"</span><span class='op'>)</span> <span class='op'>=</span> <span class='fl'>1L</span>
<span class='op'>}</span>

<span class='kw'>for</span> <span class='op'>(</span><span class='va'>iter</span> <span class='kw'>in</span> <span class='fu'><a href='https://rdrr.io/r/base/seq.html'>seq_len</a></span><span class='op'>(</span><span class='fl'>10</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>{</span>
  <span class='co'># generate offspring</span>
  <span class='va'>offspring</span> <span class='op'>=</span> <span class='fu'><a href='generateOffspring.html'>generateOffspring</a></span><span class='op'>(</span><span class='va'>control</span>, <span class='va'>population</span>, <span class='va'>fitness</span>, lambda <span class='op'>=</span> <span class='fl'>5</span><span class='op'>)</span>
  <span class='va'>fitness.offspring</span> <span class='op'>=</span> <span class='fu'><a href='evaluateFitness.html'>evaluateFitness</a></span><span class='op'>(</span><span class='va'>control</span>, <span class='va'>offspring</span><span class='op'>)</span>

  <span class='co'># update age of population</span>
  <span class='kw'>for</span> <span class='op'>(</span><span class='va'>i</span> <span class='kw'>in</span> <span class='fu'><a href='https://rdrr.io/r/base/seq.html'>seq_along</a></span><span class='op'>(</span><span class='va'>population</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>{</span>
    <span class='fu'><a href='https://rdrr.io/r/base/attr.html'>attr</a></span><span class='op'>(</span><span class='va'>population</span><span class='op'>[[</span><span class='va'>i</span><span class='op'>]</span><span class='op'>]</span>, <span class='st'>"age"</span><span class='op'>)</span> <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/attr.html'>attr</a></span><span class='op'>(</span><span class='va'>population</span><span class='op'>[[</span><span class='va'>i</span><span class='op'>]</span><span class='op'>]</span>, <span class='st'>"age"</span><span class='op'>)</span> <span class='op'>+</span> <span class='fl'>1L</span>
  <span class='op'>}</span>

  <span class='co'># set offspring attributes</span>
  <span class='kw'>for</span> <span class='op'>(</span><span class='va'>i</span> <span class='kw'>in</span> <span class='fu'><a href='https://rdrr.io/r/base/seq.html'>seq_along</a></span><span class='op'>(</span><span class='va'>offspring</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>{</span>
    <span class='fu'><a href='https://rdrr.io/r/base/attr.html'>attr</a></span><span class='op'>(</span><span class='va'>offspring</span><span class='op'>[[</span><span class='va'>i</span><span class='op'>]</span><span class='op'>]</span>, <span class='st'>"fitness"</span><span class='op'>)</span> <span class='op'>=</span> <span class='va'>fitness.offspring</span><span class='op'>[</span>, <span class='va'>i</span><span class='op'>]</span>
    <span class='co'># update age</span>
    <span class='fu'><a href='https://rdrr.io/r/base/attr.html'>attr</a></span><span class='op'>(</span><span class='va'>offspring</span><span class='op'>[[</span><span class='va'>i</span><span class='op'>]</span><span class='op'>]</span>, <span class='st'>"age"</span><span class='op'>)</span> <span class='op'>=</span> <span class='fl'>1L</span>
  <span class='op'>}</span>

  <span class='va'>sel</span> <span class='op'>=</span> <span class='fu'><a href='replace.html'>replaceMuPlusLambda</a></span><span class='op'>(</span><span class='va'>control</span>, <span class='va'>population</span>, <span class='va'>offspring</span><span class='op'>)</span>

  <span class='va'>population</span> <span class='op'>=</span> <span class='va'>sel</span><span class='op'>$</span><span class='va'>population</span>
  <span class='va'>fitness</span> <span class='op'>=</span> <span class='va'>sel</span><span class='op'>$</span><span class='va'>fitness</span>

  <span class='co'># do some logging</span>
  <span class='fu'><a href='updateLogger.html'>updateLogger</a></span><span class='op'>(</span><span class='va'>log</span>, <span class='va'>population</span>, n.evals <span class='op'>=</span> <span class='fl'>5</span><span class='op'>)</span>
<span class='op'>}</span>
<span class='fu'><a href='https://rdrr.io/r/utils/head.html'>head</a></span><span class='op'>(</span><span class='fu'><a href='getStatistics.html'>getStatistics</a></span><span class='op'>(</span><span class='va'>log</span><span class='op'>)</span><span class='op'>)</span>
</div><div class='output co'>#&gt;   gen time.passed fitness.mean fitness.myRange age.min age.max
#&gt; 1   1       0.007          3.8               3       1       2
#&gt; 2   2       0.009          2.7               2       1       3
#&gt; 3   3       0.010          2.0               0       1       4
#&gt; 4   4       0.017          2.0               0       2       5
#&gt; 5   5       0.018          2.0               0       3       6
#&gt; 6   6       0.020          2.0               0       4       7</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by <a href='https://www.jakobbossek.de'>Jakob Bossek</a>.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


